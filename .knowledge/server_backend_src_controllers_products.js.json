{"is_source_file": true, "format": "JavaScript", "description": "This file defines a controller class 'ProductsController' for handling product-related API endpoints in an e-commerce platform. It includes methods for listing, retrieving, creating, updating, and deleting products, utilizing a Prisma ORM for database interactions.", "external_files": ["../lib/prisma"], "external_methods": ["getPrisma"], "published": ["new ProductsController()"], "classes": [{"name": "ProductsController", "description": "Controller class for managing product-related API endpoints, including listing, detail retrieval, creation, updating, and deletion of products."}], "methods": [{"name": "list(req, res)", "description": "Lists products with optional filtering by query parameters such as search term, category, price range, discount, and sorting options, with pagination support.", "scope": "ProductsController", "scopeKind": "class"}, {"name": "detail(req, res)", "description": "Retrieves detailed information about a specific product by slug or id.", "scope": "ProductsController", "scopeKind": "class"}, {"name": "create(req, res)", "description": "Creates a new product entry, including optional images and category assignment.", "scope": "ProductsController", "scopeKind": "class"}, {"name": "update(req, res)", "description": "Updates an existing product's details and replaces images if provided.", "scope": "ProductsController", "scopeKind": "class"}, {"name": "remove(req, res)", "description": "Deletes a product by id from the database.", "scope": "ProductsController", "scopeKind": "class"}, {"name": "buildProductInclude()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getPrisma", "prisma.product.findMany", "prisma.product.count", "prisma.product.findFirst", "prisma.product.create", "prisma.product.update", "prisma.productImage.deleteMany", "prisma.productImage.createMany", "prisma.product.findUnique", "prisma.product.delete"], "search-terms": ["ProductsController", "list products", "product details", "create product", "update product", "delete product", "product ORM", "product images", "product filtering", "e-commerce"], "state": 2, "file_id": 18, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "ProductsController", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^class ProductsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "buildProductInclude", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^function buildProductInclude() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^      where.category = { slug: categorySlug };$/", "language": "JavaScript", "kind": "class", "scope": "where", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^  async create(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^  async detail(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^module.exports = new ProductsController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^  async list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^  async remove(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ProductsController", "scopeKind": "class"}, {"_type": "tag", "name": "slug", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^      where.category = { slug: categorySlug };$/", "language": "JavaScript", "kind": "property", "scope": "where.category", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/furniro-e-commerce-platform-186157-186166/server_backend/src/controllers/products.js", "pattern": "/^  async update(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ProductsController", "scopeKind": "class"}], "hash": "4c7c5199ae966459882a82c180799b7d", "format-version": 4, "code-base-name": "server_backend", "filename": "server_backend/src/controllers/products.js", "fields": [{"name": "module.exports = new ProductsController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "where.category = { slug: categorySlug };", "scope": "where.category", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"38": ""}]}